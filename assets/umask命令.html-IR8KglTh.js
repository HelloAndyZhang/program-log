import{_ as a}from"./plugin-vue_export-helper-x3n3nnut.js";import{i as e,j as s,z as n}from"./app-lp0sOEvl.js";const o={},t=n(`<h1 id="umask命令" tabindex="-1"><a class="header-anchor" href="#umask命令"><span>umask命令</span></a></h1><p>在<code>Linux</code>和其他类<code>Unix</code>的操作系统上，将使用一组默认权限创建新文件，具体来说，可以通过应用称为<code>umask</code>的权限掩码，以特定方式限制新文件的权限，<code>umask</code>命令指定在建立文件时预设的权限掩码，或者展示当前的权限掩码值。</p><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">umask</span> <span class="token punctuation">[</span>-S<span class="token punctuation">]</span> <span class="token punctuation">[</span>mask<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h2><ul><li><code>-S</code>: 以文字的方式来表示权限掩码。</li><li><code>mask</code>: 果指定了有效的掩码，则将<code>umask</code>设置为此值，如果未指定掩码，则返回当前的<code>umask</code>值。</li></ul><h2 id="权限" tabindex="-1"><a class="header-anchor" href="#权限"><span>权限</span></a></h2><p>使用<code>ll</code>命令查看文件与文件夹相关信息，对于其权限信息:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>drwxr-xr-x <span class="token number">12</span> linuxize <span class="token function">users</span> <span class="token number">4</span>.0K Apr  <span class="token number">8</span> <span class="token number">20</span>:51 <span class="token function">dirname</span>
<span class="token operator">|</span><span class="token punctuation">[</span>-<span class="token punctuation">]</span><span class="token punctuation">[</span>-<span class="token punctuation">]</span><span class="token punctuation">[</span>-<span class="token punctuation">]</span>    <span class="token punctuation">[</span>------<span class="token punctuation">]</span> <span class="token punctuation">[</span>---<span class="token punctuation">]</span>
<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>       <span class="token operator">|</span>       
<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>       +-----------<span class="token operator">&gt;</span> Group
<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>        +-------------------<span class="token operator">&gt;</span> Owner
<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  +----------------------------<span class="token operator">&gt;</span> Others Permissions
<span class="token operator">|</span> <span class="token operator">|</span>  +-------------------------------<span class="token operator">&gt;</span> Group Permissions
<span class="token operator">|</span> +----------------------------------<span class="token operator">&gt;</span> Owner Permissions
+------------------------------------<span class="token operator">&gt;</span> File Type
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>首符号为<code>-</code>代表该文件为普通文件，为<code>d</code>则代表目录。</li><li>紧接着三个字符<code>rw-</code>代表用户<code>u</code>权限属性。</li><li>接下来三个字符<code>r--</code>代表用户组<code>g</code>权限属性。</li><li>最后三个字符<code>r--</code>代表其他人<code>o</code>权限属性。</li></ul><p>权限可以使用字符表示，同样也可以使用八进制表示信息：</p><ul><li><code>r</code>: 读取属性，值为<code>4</code>。</li><li><code>w</code>: 写入属性，值为<code>2</code>。</li><li><code>x</code>: 执行属性，值为<code>1</code>。</li></ul><p>关于操作权限的操作符：</p><ul><li><code>+</code>: 为指定的用户类增加指定的文件权限。</li><li><code>-</code>：为指定的用户类去除指定的文件权限。</li><li><code>=</code>: 为指定的用户类设定指定的文件权限。</li></ul><h2 id="工作" tabindex="-1"><a class="header-anchor" href="#工作"><span>工作</span></a></h2><p>本质上，<code>umask</code>的每个数字都从操作系统的默认值中减去，以获得定义的默认值，这不是真正的减法，从技术上讲是将掩码按位取反，然后使用逻辑<code>AND</code>操作将此值应用于默认权限，例如<code>umask</code>值为<code>0022</code>：</p><ul><li>在<code>Linux</code>系统上，默认的创建文件权限是<code>666</code>，默认创建文件夹的权限为<code>777</code>。</li><li>即文件默认权限<code>666 - 022 = 644</code>即现在创建的新文件的权限为<code>644</code>。</li><li>创建文件夹则为<code>777 - 022 = 755</code>即现在创建的新文件夹的权限为<code>755</code>。</li></ul><p>此外，第一个零是特殊的权限数字，可以忽略，就当前的目的而言，<code>0002</code>与<code>002</code>相同。</p><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h2><p>查看系统当前<code>umask</code>值。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">umask</span>
<span class="token comment"># 0022 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>以符号表示形式表示当前系统权限掩码。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">umask</span> <span class="token parameter variable">-S</span>
<span class="token comment"># u=rwx,g=rx,o=rx # 实际上表达的是在所有者或者组以及其他人中的哪些权限已经被取消</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>将系统<code>umask</code>值设置为<code>022</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">umask</span> 022
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>https://www.computerhope.com/unix/uumask.htm
https://linuxize.com/post/umask-command-in-linux/
https://www.runoob.com/linux/linux-comm-umask.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27),c=[t];function l(i,d){return e(),s("div",null,c)}const u=a(o,[["render",l],["__file","umask命令.html.vue"]]),m=JSON.parse('{"path":"/MacOS/Terminal/umask%E5%91%BD%E4%BB%A4.html","title":"umask命令","lang":"zh-CN","frontmatter":{"description":"umask命令 在Linux和其他类Unix的操作系统上，将使用一组默认权限创建新文件，具体来说，可以通过应用称为umask的权限掩码，以特定方式限制新文件的权限，umask命令指定在建立文件时预设的权限掩码，或者展示当前的权限掩码值。 语法 参数 -S: 以文字的方式来表示权限掩码。 mask: 果指定了有效的掩码，则将umask设置为此值，如果未指...","head":[["meta",{"property":"og:url","content":"https://tgy.ink/MacOS/Terminal/umask%E5%91%BD%E4%BB%A4.html"}],["meta",{"property":"og:site_name","content":"阑风伏雨"}],["meta",{"property":"og:title","content":"umask命令"}],["meta",{"property":"og:description","content":"umask命令 在Linux和其他类Unix的操作系统上，将使用一组默认权限创建新文件，具体来说，可以通过应用称为umask的权限掩码，以特定方式限制新文件的权限，umask命令指定在建立文件时预设的权限掩码，或者展示当前的权限掩码值。 语法 参数 -S: 以文字的方式来表示权限掩码。 mask: 果指定了有效的掩码，则将umask设置为此值，如果未指..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-11-03T03:23:04.000Z"}],["meta",{"property":"article:modified_time","content":"2022-11-03T03:23:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"umask命令\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-11-03T03:23:04.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":2,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":2,"title":"权限","slug":"权限","link":"#权限","children":[]},{"level":2,"title":"工作","slug":"工作","link":"#工作","children":[]},{"level":2,"title":"示例","slug":"示例","link":"#示例","children":[]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}],"git":{"createdTime":1667445784000,"updatedTime":1667445784000,"contributors":[{"name":"helloandyzhang","email":"972997077@qq.com","commits":1}]},"readingTime":{"minutes":2.18,"words":655},"filePathRelative":"MacOS/Terminal/umask命令.md","localizedDate":"2022年11月3日","autoDesc":true}');export{u as comp,m as data};
